book Counter:
  field value: i64.

  rule init(self: Counter, start: i64) -> Counter:
    put self::value = start.
    yield self.
  end

  rule add(self: Counter, delta: i64) -> Counter:
    put self::value = self::value + delta.
    yield self.
  end
end

rule main() -> i64:
  set c: Counter = new Counter(5).
  set updated: Counter = c::add(3).
  yield updated::value.
end
